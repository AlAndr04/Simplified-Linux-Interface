package dirCommands;

import fileSystemObjects.*;
import input.Output;
import input.PathIncorrectException;
import java.util.Arrays;
import driver.JShell;
public class Mv extends Commands {
  private File src;
  private Directory dest;

  public Mv(String[] input) {
    try {
      this.src = Traverse.returnGivenPathFromRootFile(input[0].split("/"));
      this.dest = Traverse.findPathString(input[1], JShell.root);
    } catch (PathIncorrectException e) {
      Output.pathIncorrect(input[0]);
    }
  }

  public void execute() {
   this.src.removeFromParentRef();
   if (this.dest != null) {
     dest.addToChildDir(src);
   } else {
     Output.directoryInvalid();
   }
  }
}
