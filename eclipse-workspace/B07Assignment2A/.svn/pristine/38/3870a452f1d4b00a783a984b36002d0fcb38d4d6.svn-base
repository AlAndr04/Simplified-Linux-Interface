package test.input;

import static org.junit.Assert.*;

import java.net.MalformedURLException;
import java.net.URISyntaxException;
import java.util.ArrayList;

import org.junit.Before;
import org.junit.Test;

import fileCommands.*;
import input.*;
import fileSystemObjects.*;


public class CurlTest {
	//need to use mock j-shell and i guess find?
	private Curl curlTester;
	private MockJShell fs;
	
	
	@Before
	public void setUp() throws MalformedURLException, URISyntaxException{
		curlTester = new Curl("http://www.cs.cmu.edu/~spok/grimmtmp/073.txt",
		    fs.getMockLocation());
	}
	
	@Test
	public void testExecute() {
		//do the execute method for curl
		curlTester.execute();
		//get the current working directory
		Location loc = fs.MockLocation;
		Directory currDir = loc.getCurrDir();
		ArrayList<FSElement> files = currDir.getChildDir();
		//create temp file objecct
		//then search in Arraylist for it
		File file = new File(curlTester.getFileName(), null);
		assertTrue(files.contains(file));
	}
		
	

}
